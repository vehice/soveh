{% extends 'layout.html' %}
{% load static %}

{% block content %}
<!-- MAIN -->

<!-- UNASSIGNED JOBS -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <header class="card-header">
                <h1 class="card-title">Asignación de Casos</h1>
            </header>
            <main class="card-body container-fluid">
                <section class="row">
                    <div class="col-md-2 d-flex flex-column justify-content-center border-right">
                        <h1 class="text-center">
                            <b>Servicios sin derivar:</b>
                        </h1>
                        <h3 class="text-center">
                            {{ services.count }}
                        </h3>
                    </div>
                    <div class="col-md-10 table-responsive">
                        <table id="unassignedTable" class="table table-sm table-striped" style>
                            <thead>
                                <tr>
                                    <th scope="col">Caso</th>
                                    <th scope="col">Cliente</th>
                                    <th scope="col">Servicio</th>
                                    <th scope="col">Tincion</th>
                                    <th scope="col"># Muestras</th>
                                    <th scope="col">Recepcion</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for service in services%}
                                <tr>
                                    <td>{{ service.entryform.no_caso }}</td>
                                    <td>{{ service.entryform.customer }}</td>
                                    <td>{{ service.exam }}</td>
                                    <td>{{ service.stain }}</td>
                                    <td>{{ service.samples }}</td>
                                    <td>{{ service.entryform.created_at|date:"d/m/Y" }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>
    </div>
</div>
<!-- END UNASSIGNED JOBS -->

<!-- RESPONSE TIME -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <header class="card-header">
                <h1 class="card-title">ANÁLISIS DE TIEMPOS DE RESPUESTA</h1>
            </header>
            <main class="card-body container">
                <section class="row">
                    <div class="col-md-4">
                        <div id="avgTimeMonth" style="width: auto; height: 30rem">
                            
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div id="avgTotal" style="width: auto; height: 30rem">
                            
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div id="avgPercentMonth" style="width: auto; height: 30rem">
                            
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>
</div>
<!-- END RESPONSE TIME -->


<!-- END MAIN -->

{% endblock content %}
{% block scripts %}
<script
    type="text/javascript"
    src="//cdn.jsdelivr.net/npm/sweetalert2@10"
    defer>
</script>


<script type="text/javascript"
        src="{% static 'report/js/control-home.js' %}"
        defer>
</script>
{% endblock scripts %}
